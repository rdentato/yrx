

#include <yrxc.h>

char *strid = NULL;

state(start) {
  YYSWITCH(s) {
	  YYEOF : goto end;
	  "/\*"  : goto comment;
	  "(\s*)YRXSWITCH\s*(\w*)\s*{": strid=YYSTRDUP(2);
	                                goto inswitch;
	  ".-\n?": goto start;
  }
}


state(comment) {
  YYSWITCH(s) {
	  YYEOF : end;
	  "\*/.-\n?": goto start;
	  "[^\*]+": goto comment;
  }  	
}

state(inswitch) {
  YYSWITCH(s) {
	  YYEOF : end;
  }	
}
